---
import Base from "@layouts/Base.astro";
import Channels from "@blocks/Channels.astro";
import KeyFeatures from "@blocks/KeyFeatures.astro";
import Testimonial from "@blocks/Testimonial.astro";
import Service from "@blocks/Service.astro";
import Cta from "@layouts/partials/Cta.astro";
import Hero from "@blocks/HeroPhone.astro";
import EcommercePlatforms from "@blocks/EcommercePlatforms.astro";

import { getEntryBySlug } from "astro:content";

const homepage = await getEntryBySlug("homepage", "index");
const { banner, key_features, service, testimonial } = homepage.data;
---

<Base>
  <script>
    window.addEventListener( "pageshow", function ( event ) {
      var historyTraversal = event.persisted || 
                             ( typeof window.performance != "undefined" && 
                                  window.performance.navigation.type === 2 );
      if ( historyTraversal ) {
        // Handle page restore.
        window.location.reload();
      }
    });</script>
  <Hero />
  <Channels />
  <EcommercePlatforms />
<br><br><br>

  
  
  <Testimonial testimonial={testimonial} />
  <!-- call to action -->
  <Cta />
</Base>
